
<!-- saved from url=(0060)http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Chapter 10. HTTP Headers</title>
<link rel="stylesheet" href="http://yui.yahooapis.com/combo?2.2.2/build/reset/reset-min.css&2.2.2/build/fonts/fonts-min.css&2.8.0r4/build/treeview/assets/skins/sam/treeview.css">
<link rel="stylesheet" href="http://trafficserver.apache.org/docs/v2/sdk/css/ydoc.css">
<script src="./index_files/combo"></script>
<script src="./index_files/tocnodes.js"></script>
</head><body>
<div class="doctitle">
   <form action="http://trafficserver.apache.org/docs/search.html" id="cse-search-box">
   <input type="hidden" name="cx" value="014552695451971253177:hliljs75koi">
   <input type="hidden" name="cof" value="FORID:10">
   <input type="hidden" name="ie" value="UTF-8">
   <input type="text" name="q" size="31" style="background-image: url(http://www.google.com/cse/intl/en/images/google_custom_search_watermark.gif); background-color: rgb(255, 255, 255); background-position: 0% 50%; background-repeat: no-repeat no-repeat;">
   <input type="submit" name="sa" value="Search Documentation">
   <input name="siteurl" type="hidden" value="trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html"><input name="ref" type="hidden" value="trafficserver.apache.org/docs/v2/sdk/GuideTSHTTPHdrSyst.html"><input name="ss" type="hidden" value=""></form>
   <script src="./index_files/brand"></script>
   <a href="http://trafficserver.apache.org/index.html"><img src="./index_files/ts75.png"></a><span style="top:-40px;position:relative;left:-30px;">™</span>
   <h1 class="doctitle">Apache Traffic Server<span style="font-size:50%;top:-10px;position:relative;">™</span> Software Developers Kit</h1>
</div>
<div class="navheader">
<div class="navprev">
<a accesskey="p" href="http://trafficserver.apache.org/docs/v2/sdk/Interface_ThreadFunctions.html">Prev</a> - Thread Functions</div>
<div class="navnext">Guide to Traffic Server HTTP Header System - <a accesskey="n" href="http://trafficserver.apache.org/docs/v2/sdk/GuideTSHTTPHdrSyst.html">Next</a>
</div>
</div>
<div id="toc"><div class="ygtvitem" id="ygtv0"><div class="ygtvchildren" id="ygtvc0"><div class="ygtvitem" id="ygtv1"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt1" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel1" class=" ygtvcontent"><a id="ygtvlabelel1" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/index.html" target="_self">Table of Contents</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc1" style="display:none;"></div></div><div class="ygtvitem" id="ygtv2"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt2" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel2" class=" ygtvcontent"><a id="ygtvlabelel2" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/Preface.html" target="_self">Preface</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc2" style="display:none;"></div></div><div class="ygtvitem" id="ygtv5"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt5" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel5" class=" ygtvcontent"><a id="ygtvlabelel5" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/GetingStarted.html" target="_self">1. Getting Started</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc5" style="display:none;"></div></div><div class="ygtvitem" id="ygtv12"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt12" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel12" class=" ygtvcontent"><a id="ygtvlabelel12" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/CreatingTSPlugins.html" target="_self">2. How to Create Traffic Server Plugins</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc12" style="display:none;"></div></div><div class="ygtvitem" id="ygtv14"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt14" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel14" class=" ygtvcontent"><a id="ygtvlabelel14" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/ch03.html" target="_self">3. Remap Plugin</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc14" style="display:none;"></div></div><div class="ygtvitem" id="ygtv17"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt17" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel17" class=" ygtvcontent"><a id="ygtvlabelel17" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/HeaderBasedPluginEx.html" target="_self">4. Header-Based Plugin Examples</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc17" style="display:none;"></div></div><div class="ygtvitem" id="ygtv28"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt28" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel28" class=" ygtvcontent"><a id="ygtvlabelel28" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/HTTPTransformationPlugins.html" target="_self">5. HTTP Transformation Plugins</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc28" style="display:none;"></div></div><div class="ygtvitem" id="ygtv32"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt32" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel32" class=" ygtvcontent"><a id="ygtvlabelel32" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/NewProtocolPlugins.html" target="_self">6. New Protocol Plugins</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc32" style="display:none;"></div></div><div class="ygtvitem" id="ygtv33"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt33" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel33" class=" ygtvcontent"><a id="ygtvlabelel33" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/ch07.html" target="_self">7. Cache Plugin</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc33" style="display:none;"></div></div><div class="ygtvitem" id="ygtv38"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt38" class="ygtvtm"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel38" class=" ygtvcontent"><a id="ygtvlabelel38" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHooksAndTransactions.html" target="_self">8. HTTP Hooks and Transactions</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc38"><div class="ygtvitem" id="ygtv39"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth1"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt39" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel39" class=" ygtvcontent"><a id="ygtvlabelel39" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/AddingHooks.html" target="_self">Adding Hooks</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc39" style="display:none;"></div></div><div class="ygtvitem" id="ygtv40"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth1"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt40" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel40" class=" ygtvcontent"><a id="ygtvlabelel40" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/HTTPSessions.html" target="_self">HTTP Sessions</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc40" style="display:none;"></div></div><div class="ygtvitem" id="ygtv41"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth1"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt41" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel41" class=" ygtvcontent"><a id="ygtvlabelel41" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/HTTP_Transactions.html" target="_self">HTTP Transactions</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc41" style="display:none;"></div></div><div class="ygtvitem" id="ygtv42"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth1"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt42" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel42" class=" ygtvcontent"><a id="ygtvlabelel42" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/InterceptingHTTPTx.html" target="_self">Intercepting HTTP Transactions</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc42" style="display:none;"></div></div><div class="ygtvitem" id="ygtv43"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth1"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt43" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel43" class=" ygtvcontent"><a id="ygtvlabelel43" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/InitiateHTTPConnection.html" target="_self">Initiate HTTP Connection</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc43" style="display:none;"></div></div><div class="ygtvitem" id="ygtv44"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth1"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt44" class="ygtvln"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel44" class=" ygtvcontent"><a id="ygtvlabelel44" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/HTTPAlternateSelection.html" target="_self">HTTP Alternate Selection</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc44" style="display:none;"></div></div></div></div><div class="ygtvitem" id="ygtv45"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt45" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel45" class=" ygtvcontent"><a id="ygtvlabelel45" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/MiscellaneousInterfaceGuide.html" target="_self">9. Miscellaneous Interface Guide</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc45" style="display:none;"></div></div><div class="ygtvitem" id="ygtv49"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt49" class="ygtvtm"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel49" class=" ygtvcontent"><a id="ygtvlabelel49" class="expanded" href="./index_files/index.html" target="_self">10. HTTP Headers</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc49"><div class="ygtvitem" id="ygtv50"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth1"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt50" class="ygtvtm"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel50" class=" ygtvcontent"><a id="ygtvlabelel50" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/GuideTSHTTPHdrSyst.html" target="_self">Guide to Traffic Server HTTP Header System</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc50"><div class="ygtvitem" id="ygtv51"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth2"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt51" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel51" class=" ygtvcontent"><a id="ygtvlabelel51" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/DuplicateMIMEFlds.html" target="_self">Duplicate MIME Fields Are Not Coalesced</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc51" style="display:none;"></div></div><div class="ygtvitem" id="ygtv52"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth2"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt52" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel52" class=" ygtvcontent"><a id="ygtvlabelel52" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/MIMEFldsBelongAssocMIMEHdr.html" target="_self">MIME Fields Always Belong to an Associated MIME Header</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc52" style="display:none;"></div></div><div class="ygtvitem" id="ygtv53"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth2"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt53" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel53" class=" ygtvcontent"><a id="ygtvlabelel53" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/RlsMarshalBufHandles.html" target="_self">Release Marshal Buffer Handles</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc53" style="display:none;"></div></div><div class="ygtvitem" id="ygtv54"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth2"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt54" class="ygtvln"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel54" class=" ygtvcontent"><a id="ygtvlabelel54" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/DeprecatedMarshBufFuncs.html" target="_self">Deprecated Functions</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc54" style="display:none;"></div></div></div></div><div class="ygtvitem" id="ygtv55"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth1"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt55" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel55" class=" ygtvcontent"><a id="ygtvlabelel55" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/MarshalBuffers.html" target="_self">Marshal Buffers</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc55" style="display:none;"></div></div><div class="ygtvitem" id="ygtv56"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth1"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt56" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel56" class=" ygtvcontent"><a id="ygtvlabelel56" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders2.html" target="_self">HTTP Headers</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc56" style="display:none;"></div></div><div class="ygtvitem" id="ygtv57"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth1"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt57" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel57" class=" ygtvcontent"><a id="ygtvlabelel57" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/URLs.html" target="_self">URLs</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc57" style="display:none;"></div></div><div class="ygtvitem" id="ygtv58"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth1"><tbody><tr class="ygtvrow"><td class="ygtvdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt58" class="ygtvln"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel58" class=" ygtvcontent"><a id="ygtvlabelel58" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/MIMEHeaders.html" target="_self">MIME Headers</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc58" style="display:none;"></div></div></div></div><div class="ygtvitem" id="ygtv59"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt59" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel59" class=" ygtvcontent"><a id="ygtvlabelel59" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/MutexGuide.html" target="_self">11. Mutex Guide</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc59" style="display:none;"></div></div><div class="ygtvitem" id="ygtv60"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt60" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel60" class=" ygtvcontent"><a id="ygtvlabelel60" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/Continuations.html" target="_self">12. Continuations</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc60" style="display:none;"></div></div><div class="ygtvitem" id="ygtv63"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt63" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel63" class=" ygtvcontent"><a id="ygtvlabelel63" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/PluginConfigurations.html" target="_self">13. Plugin Configurations</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc63" style="display:none;"></div></div><div class="ygtvitem" id="ygtv64"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt64" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel64" class=" ygtvcontent"><a id="ygtvlabelel64" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/ActionsGuide.html" target="_self">14. Actions Guide</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc64" style="display:none;"></div></div><div class="ygtvitem" id="ygtv66"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt66" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel66" class=" ygtvcontent"><a id="ygtvlabelel66" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/IOGuide.html" target="_self">15. IO Guide</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc66" style="display:none;"></div></div><div class="ygtvitem" id="ygtv76"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt76" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel76" class=" ygtvcontent"><a id="ygtvlabelel76" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/PluginManagement.html" target="_self">16. Plugin Management</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc76" style="display:none;"></div></div><div class="ygtvitem" id="ygtv83"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt83" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel83" class=" ygtvcontent"><a id="ygtvlabelel83" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/AddingStatistics.html" target="_self">17. Adding Statistics</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc83" style="display:none;"></div></div><div class="ygtvitem" id="ygtv86"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt86" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel86" class=" ygtvcontent"><a id="ygtvlabelel86" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/FunctionReference.html" target="_self">18. Function Reference</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc86" style="display:none;"></div></div><div class="ygtvitem" id="ygtv215"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt215" class="ygtvtn"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel215" class=" ygtvcontent"><a id="ygtvlabelel215" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/App_SampleSourceCode.html" target="_self">A. Sample Source Code</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc215" style="display:none;"></div></div><div class="ygtvitem" id="ygtv216"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt216" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel216" class=" ygtvcontent"><a id="ygtvlabelel216" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/App_DeprecatedFunctions.html" target="_self">B. Deprecated Functions</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc216" style="display:none;"></div></div><div class="ygtvitem" id="ygtv220"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt220" class="ygtvtp"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel220" class=" ygtvcontent"><a id="ygtvlabelel220" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/App_Troubleshooting.html" target="_self">C. Troubleshooting Tips</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc220" style="display:none;"></div></div><div class="ygtvitem" id="ygtv225"><table border="0" cellpadding="0" cellspacing="0" class="ygtvdepth0"><tbody><tr class="ygtvrow"><td id="ygtvt225" class="ygtvln"><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel225" class=" ygtvcontent"><a id="ygtvlabelel225" class="ygtvlabel" href="http://trafficserver.apache.org/docs/v2/sdk/FunctionIndex.html" target="_self">D. Function Index</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc225" style="display:none;"></div></div></div></div></div>
<div class="chapter" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="HTTPHeaders"></a>Chapter 10. HTTP Headers</h2></div></div></div>
<p>This chapter explains the functions used to manipulate HTTP
    headers.</p>
<div class="itemizedlist"><ul type="disc"><b>
<li><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders.html#AboutHTTPHeaders" title="About HTTP Headers">About HTTP Headers</a></li>
<li><a href="http://trafficserver.apache.org/docs/v2/sdk/GuideTSHTTPHdrSyst.html" title="Guide to Traffic Server HTTP Header System">Guide to Traffic Server HTTP Header System</a></li>
<ul><li><span class="section"><a href="http://trafficserver.apache.org/docs/v2/sdk/DuplicateMIMEFlds.html">Duplicate MIME Fields Are Not Coalesced</a></span></li>
<li><span class="section"><a href="http://trafficserver.apache.org/docs/v2/sdk/MIMEFldsBelongAssocMIMEHdr.html">MIME Fields Always Belong to an Associated MIME
        Header</a></span></li>
<li><span class="section"><a href="http://trafficserver.apache.org/docs/v2/sdk/RlsMarshalBufHandles.html">Release Marshal Buffer Handles</a></span></li>
<li><span class="section"><a href="http://trafficserver.apache.org/docs/v2/sdk/DeprecatedMarshBufFuncs.html">Deprecated Functions</a></span></li></ul>
<li><a href="http://trafficserver.apache.org/docs/v2/sdk/MarshalBuffers.html" title="Marshal Buffers">Marshal Buffers</a></li>
<li><a href="http://trafficserver.apache.org/docs/v2/sdk/HTTPHeaders2.html" title="HTTP Headers">HTTP Headers</a></li>
<li><a href="http://trafficserver.apache.org/docs/v2/sdk/URLs.html" title="URLs">URLs</a></li>
<li><a href="http://trafficserver.apache.org/docs/v2/sdk/MIMEHeaders.html" title="MIME Headers">MIME Header</a></li>
</b>
</ul></div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="AboutHTTPHeaders"></a>About HTTP Headers</h2></div></div></div>
<p>An <u><b>HTTP message</b></u> consists of the following:</p>
<div class="itemizedlist"><ul type="disc">
<li>HTTP header<a class="indexterm" name="id380485"></a></li>
<li>body</li>
<li>trailer</li>
</ul></div>
<p>The <b><u>HTTP header</u></b> consists of:
</p><div class="itemizedlist"><ul type="disc">
<li>A request or response line</li>
<ul>
<li>An HTTP <b>request line</b> contains a method, URL, and version</li>
<li>A <b>response line</b> contains a version, status code, and reason phrase</li>
</ul>
<li>A MIME header<a class="indexterm" name="id380540"></a></li>
</ul></div><p></p>
<p>A <b>MIME header </b>is comprised of zero or more MIME fields. A <b>MIME
      field</b><a class="indexterm" name="id380553"></a> is composed of a field name, a colon, and (zero or more)
      field values. The values in a field are separated by commas.  An HTTP header containing a request line is usually referred to as
      a <b>request</b>. The following example shows a typical request header.</p>
<pre class="programlisting">GET http://www.tiggerwigger.com/ HTTP/1.0
Proxy-Connection: Keep-Alive
User-Agent: Mozilla/5.0 [en] (X11; I; Linux 2.2.3 i686)
Host: www.tiggerwigger.com
Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, */
*

Accept-Encoding: gzip
Accept-Language: en
Accept-Charset: iso-8859-1, *, utf-8</pre>
<p>The <b>response header </b>for the above request might look like the
      following:</p>
<pre class="programlisting">HTTP/1.0 200 OK
Date: Fri, 13 Nov 2009 06:57:43 GMT
Content-Location: http://locutus.tiggerwigger.com/index.html
Etag: "07db14afa76be1:1074"
Last-Modified: Thu, 05 Nov 2009 20:01:38 GMT
Content-Length: 7931
Content-Type: text/html
Server: Microsoft-IIS/4.0
Age: 922
Proxy-Connection: close</pre>
<p>The following figure illustrates an HTTP message with an expanded HTTP
      header.</p>
<div class="figure">
<a name="Fig_ReqRespHeaderStruc"></a><p class="title"><b>Figure 10.1. HTTP Request/Response and Header Structure</b></p>
<div class="mediaobject"><img src="./index_files/http_header_struct.jpg" alt="HTTP Request/Response and Header Structure"></div>
</div>
<p>The  figure below shows example HTTP request and response
      headers.</p>
<div class="figure">
<a name="Fig_HTTPReqRespHdrs"></a><p class="title"><b>Figure 10.2. Examples of HTTP Request and Response Headers</b></p>
<div class="mediaobject"><img src="./index_files/http_headers.jpg" alt="Examples of HTTP Request and Response Headers"></div>
</div>
<p>The marshal buffer or <code class="code">INKMBuffer</code> is a heap data
      structure that stores parsed URLs, MIME headers, and HTTP headers. You
      can allocate new objects out of marshal buffers and change the values
      within the marshal buffer. Whenever you manipulate an object, you
      must require the handle to the object (<code class="code">INKMLoc</code>) and the marshal
      buffer containing the object (<code class="function">INKMBuffer</code>).</p>
<div class="figure">
<a name="Fig_MarshalBufsHdrLocations"></a><p class="title"><b>Figure 10.3. Marshal Buffers and Header Locations</b></p>
<div class="mediaobject"><img src="./index_files/marshall_buffers.jpg" alt="Marshal Buffers and Header Locations"></div>
</div>
<p>The figure above shows the following:</p>
<div class="itemizedlist"><ul type="disc">
<li><p>The marshal buffer containing the HTTP request,
          <code class="code">reqest_bufp</code></p></li>
<li><p><code class="function">INKMLoc</code> location pointer for the HTTP
          header (<code class="code">http_hdr_loc</code>)</p></li>
<li><p><code class="function">INKMLoc</code> location pointer for the request
        URL (<code>url_loc</code>)</p></li>
<li><p><code class="function">INKMLoc</code> location pointers for the MIME
          header (<code class="code">mime_hdr_loc</code>)</p></li>
<li><p><code class="function">INKMLoc</code> location pointers for MIME fields
          (<code class="code">fieldi_loc</code>)</p></li>
<li><p><code class="function">INKMLoc</code> location pointer for the next
          duplicate MIME field (<code class="code">next_dup_loc</code>)</p></li>
</ul></div>
<p>The diagram also shows that an HTTP header contains pointers to
      the URL location and the MIME header location. You can obtain the URL
      location from an HTTP header using the function
      <code class="function">INKHttpHdrUrlGet</code>. To work with MIME headers, you
      can pass either a MIME header location or an HTTP header location to
      MIME header functions . If you pass an HTTP header to a MIME header
      function, then the system locates the associated MIME header and executes the
      MIME header function on the MIME header location.</p>
</div>
</div>


<div style="margin-top: 50px;" class="navheader"><div class="navprev" style="margin-left: 0px;">
<a accesskey="p" href="http://trafficserver.apache.org/docs/v2/sdk/Interface_ThreadFunctions.html">Prev</a> - Thread Functions</div><div class="navnext">Guide to Traffic Server HTTP Header System - <a accesskey="n" href="http://trafficserver.apache.org/docs/v2/sdk/GuideTSHTTPHdrSyst.html">Next</a>
</div></div><div style="position: absolute; height: 1px; width: 1px; top: -1000px; left: -1000px;"><span class="ygtvtm">&nbsp;</span><span class="ygtvtmh">&nbsp;</span><span class="ygtvtp">&nbsp;</span><span class="ygtvtph">&nbsp;</span><span class="ygtvln">&nbsp;</span><span class="ygtvlm">&nbsp;</span><span class="ygtvlmh">&nbsp;</span><span class="ygtvlp">&nbsp;</span><span class="ygtvlph">&nbsp;</span><span class="ygtvloading">&nbsp;</span></div></body></html>